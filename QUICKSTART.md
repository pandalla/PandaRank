# PandaRank å¿«é€Ÿå¼€å§‹æŒ‡å—

## 1. è®¾ç½® OpenAI Session Token

1. åœ¨æµè§ˆå™¨ä¸­ç™»å½• https://chat.openai.com
2. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
3. æ‰¾åˆ° Application/å­˜å‚¨ â†’ Cookies â†’ chat.openai.com
4. å¤åˆ¶ `__Secure-next-auth.session-token` çš„å€¼
5. åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```
6. ç¼–è¾‘ `.env`ï¼Œç²˜è´´ä½ çš„ tokenï¼š
```
OPENAI_SESSION_TOKEN=ä½ çš„tokenå€¼
```

## 2. å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
make up

# æŸ¥çœ‹æ—¥å¿—
make logs
```

## 3. è®¿é—®ç›‘æ§é¢æ¿

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost

ä½ å°†çœ‹åˆ°ï¼š
- ğŸ“Š ç»Ÿè®¡æ•°æ®ï¼šæ€»å¯¹è¯æ•°ã€æˆåŠŸç‡ã€æ¶ˆæ¯æ•°ç­‰
- ğŸ¯ æ‰‹åŠ¨è§¦å‘ï¼šå¯ä»¥é€‰æ‹©é¢„è®¾é—®é¢˜æˆ–è¾“å…¥è‡ªå®šä¹‰é—®é¢˜
- ğŸ“‹ è¿è¡Œè®°å½•ï¼šæŸ¥çœ‹æ‰€æœ‰å†å²è®°å½•å’Œè¯¦æƒ…
- ğŸ“ˆ å“åº”æ—¶é—´å›¾è¡¨ï¼šç›‘æ§æ€§èƒ½è¶‹åŠ¿

## 4. æµ‹è¯•åœ°ç†ç›¸å…³é—®é¢˜

ç³»ç»Ÿå·²é¢„è®¾äº†60+ä¸ªåœ°ç†ç›¸å…³é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š

**ç¾é£Ÿç±»ï¼š**
- ä¸œäº¬æœ€å¥½åƒçš„æ‹‰é¢é¦†æ˜¯ä»€ä¹ˆï¼Ÿ
- é¦™æ¸¯æœ€å¥½çš„ç²¤èœé¤å…æœ‰å“ªäº›ï¼Ÿ

**åˆ¶é€ ä¸šï¼š**
- å¹¿ä¸œåšç”µå­é…ä»¶åº”è¯¥æ‰¾ä»€ä¹ˆå·¥å‚ï¼Ÿ
- è¶Šå—èƒ¡å¿—æ˜å¸‚æœ‰å“ªäº›æœè£…ä»£å·¥å‚ï¼Ÿ

**å•†ä¸šæœåŠ¡ï¼š**
- åœ¨æ–°åŠ å¡æ³¨å†Œå…¬å¸éœ€è¦ä»€ä¹ˆæµç¨‹ï¼Ÿ
- é¦™æ¸¯å¼€è®¾é“¶è¡Œè´¦æˆ·éœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ

## 5. æ‰‹åŠ¨è§¦å‘æµ‹è¯•

1. åœ¨ç›‘æ§é¢æ¿é€‰æ‹©ä¸€ä¸ªé—®é¢˜
2. ç‚¹å‡»"ç«‹å³è¯¢é—®"
3. ç­‰å¾…å‡ ç§’ååˆ·æ–°é¡µé¢æŸ¥çœ‹ç»“æœ
4. ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"æŸ¥çœ‹å®Œæ•´å¯¹è¯å’Œæœç´¢è®°å½•

## 6. æŸ¥çœ‹æ•°æ®

**é€šè¿‡APIï¼š**
```bash
# è·å–ç»Ÿè®¡ä¿¡æ¯
curl http://localhost:8000/stats | jq

# è·å–æœ€è¿‘è¿è¡Œ
curl http://localhost:8000/runs | jq

# å¯¼å‡ºNDJSONæ ¼å¼æ•°æ®
curl http://localhost:8000/export/ndjson > export.ndjson
```

**é€šè¿‡æ•°æ®åº“ï¼š**
```bash
# è¿›å…¥æ•°æ®åº“
make db-shell

# æŸ¥è¯¢ç¤ºä¾‹
SELECT * FROM conversations ORDER BY started_at DESC LIMIT 5;
SELECT q.text, COUNT(c.id) as ask_count 
FROM questions q 
LEFT JOIN conversations c ON q.id = c.question_id 
GROUP BY q.id, q.text;
```

## 7. è°ƒæ•´é…ç½®

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
- `SCRAPE_INTERVAL_SEC=600` - è‡ªåŠ¨è¿è¡Œé—´éš”ï¼ˆç§’ï¼‰
- `HEADLESS=false` - æ˜¾ç¤ºæµè§ˆå™¨çª—å£ï¼ˆè°ƒè¯•ç”¨ï¼‰

## 8. å¸¸è§é—®é¢˜

**Q: ç™»å½•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥session tokenæ˜¯å¦è¿‡æœŸï¼Œé‡æ–°è·å–

**Q: å¦‚ä½•æ·»åŠ æ–°é—®é¢˜ï¼Ÿ**
A: ç¼–è¾‘ `data/geo_questions.yaml` æ–‡ä»¶ï¼Œé‡å¯æœåŠ¡

**Q: å¦‚ä½•æŸ¥çœ‹æˆªå›¾ï¼Ÿ**
A: æˆªå›¾ä¿å­˜åœ¨ `scraper/artifacts/` ç›®å½•

## 9. åœæ­¢æœåŠ¡

```bash
make down
```

## 10. æ¸…ç†æ‰€æœ‰æ•°æ®

```bash
make clean
```